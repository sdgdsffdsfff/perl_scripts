## service config 
service_name = openapi.360.cn

## virtual service config 
vip = 220.181.156.[160-170]
vport = 80 
protocol = TCP

## vrrp instance config
vrrp_name = vrrp 
vrrp_instance =  
virtual_router_id = 
state = 
priority = 

## real server config 
protocol = 
rip = 
rport = 
checker = 
url_path = 
url_digest = 
connect_timeout = 
nb_get_retry = 
delay_before_retry = 

## back ip config 
vport = 
protocol = 
service_name = 

## static ip 
static_ip = 
dev = 
mask = 

## flags 
# cluster_add_sv
# cluster_del_sv
# cluster_add_rs
# cluster_del_rs
# normal_add_sv
# normal_del_sv
# normal_add_rs
# normal_del_rs

variants:
    add_service:
	only add_service 
	variants:
	    - add_sv
	    - add_vrrp
		only normal_add_sv
	    - add_vs
	    - add_rs
	    - add_bip
    del_service:
	only cluster_del_sv | normal_del_sv
	variants:
	    - del_sv    
	    - del_vrrp
		only normal_del_sv

    add_rs:
	only cluster_add_rs | normal_add_rs
	variants:
	    - add_rs

    del_rs:
	only cluster_del_rs | normal_del_rs
	variants:
	    - del_rs

    config_reload:
	variants:
	    - remote_backup_config:

	    - upload_config:

	    - lvs_alarm:
		only normal_add_sv | normal_del_sv
		alarm = stop
	    - lvs_check:

	    - reload_keepalived:

	    - lvs_check:

	    - lvs_alarm:
		only normal_add_sv | normal_del_sv
		alarm = start
	    - enable_vip:
		only cluster_add_sv
	    - disable_vip:
		only cluster_del_sv
	    - lvs_env_check:
	
variants:
    - @add_service:


variants:
    - add_sv
    - add_vrrp
    - add_rs
    
variants:
    add_sercie:
	only 
	no add_sv
    

